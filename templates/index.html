<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Trace3 × Pure | Team Portal</title>
  <link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><rect width="64" height="64" rx="12" fill="%23f04e23"/><circle cx="46" cy="18" r="10" fill="white" stroke="%23f04e23" stroke-width="4"/></svg>'/>
  <style>
    :root{
      --pure-orange:#f04e23;--pure-orange-700:#d9431c;
      --ink-900:#0f1115;--slate-700:#374151;--slate-600:#4b5563;
      --slate-300:#d1d5db;--slate-200:#e5e7eb;--bg:#f6f7fb;--card:#ffffff;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink-900);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif}
    .wrap{max-width:1040px;margin:0 auto;padding:28px 16px 40px}
    .brandbar{background:#fff;border-bottom:4px solid var(--pure-orange);border-radius:14px;box-shadow:0 10px 30px rgba(15,17,21,.06);padding:12px 16px;display:flex;align-items:center;justify-content:space-between;gap:16px}
    .logos{display:flex;align-items:center;gap:14px}
    .logo{height:28px;display:block}.logo.trace3{height:36px}
    .hero{position:relative;background:linear-gradient(180deg,#fff 0%, #fff 60%, #fdf2ec 100%);border:1px solid var(--slate-200);border-radius:16px;padding:28px 20px 20px;margin-top:16px}
    .pill{margin:0 auto 10px;background:var(--pure-orange);color:#fff;font-weight:800;letter-spacing:.02em;border-radius:999px;padding:14px 22px;display:inline-flex;align-items:center;gap:10px;box-shadow:0 8px 24px rgba(240,78,35,.25)}
    .pill .dot{width:8px;height:8px;border-radius:999px;background:#fff;opacity:.9}
    .hero h1{margin:8px 0 0;font-size:26px}
    .hero p{margin:8px 0 0;color:var(--slate-600)}

    /* Stacked sections */
    .stack{display:flex;flex-direction:column;gap:16px;margin-top:18px}
    .card{
      background:var(--card);border:1px solid var(--slate-200);border-radius:16px;
      box-shadow:0 10px 30px rgba(15,17,21,.06);padding:18px 16px;min-height:110px;
      display:flex;flex-direction:column;justify-content:center;
    }
    .card h3{margin:0 0 8px 0;font-size:18px;letter-spacing:.01em}
    .muted{color:var(--slate-600);font-size:13px}

    /* Link list styling */
    .links{margin:8px 0 0 0; padding-left:18px; line-height:1.6}
    .links a{color:var(--pure-orange); text-decoration:underline; text-underline-offset:2px}
    .links a:hover{color:var(--pure-orange-700)}

    /* Marketing events — ultra-compact + responsive grid with month headers */
    .events{
      display:grid;
      grid-template-columns:1fr;           /* phones: 1 col */
      gap:4px;
      margin-top:6px;
    }
    @media (min-width:900px){
      .events{ grid-template-columns:repeat(2, minmax(220px,1fr)); gap:6px; }
    }
    @media (min-width:1400px){
      .events{ grid-template-columns:repeat(3, minmax(220px,1fr)); gap:8px; }
    }
    /* Month header spans all columns */
    .month{
      grid-column:1 / -1;
      font-weight:800; color:#1f2937;
      margin:12px 2px 4px; padding-top:6px;
      border-top:1px dashed var(--slate-200);
      letter-spacing:.02em; font-size:12px; text-transform:uppercase;
    }
    .event{
      display:grid; grid-template-columns:4px 1fr; gap:8px; align-items:center;
      background:#fff; border:1px solid var(--slate-200); border-radius:7px;
      padding:6px 8px; box-shadow:0 3px 8px rgba(15,17,21,.05);
    }
    .event::before{
      content:""; display:block; width:4px; height:100%;
      background:var(--pure-orange); border-radius:6px;
    }
    .event.past{opacity:.55}
    .event .title{font-weight:700; letter-spacing:.01em; font-size:12px}
    .event .meta{color:var(--slate-600); font-size:10px; margin-top:2px}
  </style>
</head>
<body>
  <div class="wrap">
    <!-- Brand bar -->
    <div class="brandbar">
      <div class="logos"><img src="/static/pure-storage-logo.png" alt="Pure Storage" class="logo" onerror="this.style.display='none'"></div>
      <div class="logos"><img src="/static/trace3-logo.png" alt="TRACE3" class="logo trace3" onerror="this.style.display='none'"></div>
    </div>

    <!-- Hero -->
    <section class="hero" aria-label="Portal header">
      <div class="pill"><span class="dot" aria-hidden="true"></span>Trace3 × Pure Portal</div>
      <h1>Welcome</h1>
      <p class="muted">Updates, quick links, and tools for the Trace3 team.</p>
    </section>

    <!-- Stacked white sections -->
    <section class="stack" aria-label="Sections">
      <article class="card">
        <h3>Sales</h3>
        <ul class="links">
          <li><a href="{{ url_for('account_search') }}" target="_blank" rel="noopener noreferrer">Pure Account Team Search</a></li>
        </ul>
      </article>

      <article class="card">
        <h3>Marketing</h3>
        <div class="muted">Announcements, campaigns, brand assets, and outreach tools.</div>
        <!-- Compact, responsive events grid with month headers -->
        <ul class="events" id="marketingEvents" role="list"></ul>
      </article>

      <article class="card">
        <h3>Pre-Sales</h3>
        <div class="muted">Tools and enablement for SEs: sizing, POVs, demos, and playbooks.</div>
      </article>

      <article class="card">
        <h3>Services</h3>
        <ul class="links">
          <li><a target="_blank" rel="noopener noreferrer" href="https://docs.google.com/presentation/d/1yb1Tz-92ktUbVgI_ydyIeUm9Zg8EFrX1/edit?slide=id.p1#slide=id.p1">Partner FlashArray Installation slidedeck</a></li>
          <li><a target="_blank" rel="noopener noreferrer" href="https://purestorage.seismic.com/app?ContentId=10fce97d-f5d2-46bc-a0be-955f456d34bc#/doccenter/e97617c3-4d85-43a7-95b8-6afa4f4957ae/doc/%252Fddf7ac24c8-73d0-de80-a9e0-b63342a730e0%252FdfMmFlNWY4NjQtY2IyOS00ZGUxLTgyNTEtMjkwOWZjNjgyMDg1%252CPT0%253D%252CRGF0YSBTaGVldA%253D%253D%252Flf3053d7eb-844f-43f6-9364-8ed38a974ca3/grid/">FlashArray Installation Workbook</a></li>
          <li><a target="_blank" rel="noopener noreferrer" href="https://purestorage.seismic.com/app?ContentId=9d3f8e03-9413-4e43-b073-5c7f3b0e4fe1#/doccenter/e97617c3-4d85-43a7-95b8-6afa4f4957ae/doc/%252Fddf7ac24c8-73d0-de80-a9e0-b63342a730e0%252FdfMmFlNWY4NjQtY2IyOS00ZGUxLTgyNTEtMjkwOWZjNjgyMDg1%252CPT0%253D%252CRGF0YSBTaGVldA%253D%253D%252Flf3fb02284-e2f2-4412-9613-fbe420262939/grid/">FlashBlade Installation Workbook</a></li>
          <li><a target="_blank" rel="noopener noreferrer" href="https://drive.google.com/drive/u/0/folders/1x-bBi4VY-Fvz86QngXXmgmgLqXUMrr5p">Partner Installation and Deployment Services SKU's</a></li>
          <li><a target="_blank" rel="noopener noreferrer" href="https://drive.google.com/drive/folders/1LjecAV4TmdQ6Yau1Nbl-v4jXW6BtKpng?usp=drive_link">Purity Code Download</a></li>
        </ul>
      </article>
    </section>

  </div>

  <!-- Render marketing events -->
  <script>
    // Edit your events here (ISO dates). They render sorted and grouped by month.
    var marketingEvents = [
      { title: "NorCal Lunch & Learn",                     date: "2025-08-19" },
      { title: "MI Portworx Enablement",                   date: "2025-08-19" },
      { title: "CO Golf Tournament",                       date: "2025-08-25" },
      { title: "CO Fly Fishing",                           date: "2025-09-12" },
      { title: "NYC Pure Accelerate",                      date: "2025-09-25" },
      { title: "T3 Evolve",                                date: "2025-09-30" },
      { title: "TX A&M Tailgate — Pure + Rubrik",          date: "2025-10-11" },
      { title: "GA Celebrity Chef Executive Dinner — P+R", date: "2025-10-26" }
    ];

    // Sort by date ascending
    marketingEvents.sort(function(a,b){ return new Date(a.date) - new Date(b.date); });

    var list = document.getElementById("marketingEvents");
    var today = new Date(); today.setHours(0,0,0,0);

    // Group by "Mon YYYY" and render
    var currentGroup = "";
    marketingEvents.forEach(function(ev){
      var d = new Date(ev.date);
      var monthKey = d.toLocaleString("en-US",{ month:"short", year:"numeric" }); // e.g., "Aug 2025"
      if (monthKey !== currentGroup) {
        currentGroup = monthKey;
        var header = document.createElement("li");
        header.className = "month";
        header.textContent = currentGroup;
        list.appendChild(header);
      }
      var li = document.createElement("li");
      li.className = "event" + (d < today ? " past" : "");
      li.innerHTML =
        '<div></div>' + /* stripe is via ::before; empty grid cell keeps layout tidy */
        '<div class="info">' +
          '<div class="title">' + ev.title + '</div>' +
          '<div class="meta">' + d.toLocaleDateString("en-US",{ weekday:"short", month:"short", day:"numeric" }) + '</div>' +
        '</div>';
      list.appendChild(li);
    });
  </script>
</body>
</html>
